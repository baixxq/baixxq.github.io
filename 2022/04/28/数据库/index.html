

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.jpg">
  <link rel="icon" href="/img/favicon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="笔记未整理，仅供自己使用">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL数据库学习">
<meta property="og:url" content="http://example.com/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">
<meta property="og:site_name" content="橙子味小白的博客">
<meta property="og:description" content="笔记未整理，仅供自己使用">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/passage_photo/git.jpg">
<meta property="article:published_time" content="2022-04-28T23:17:28.000Z">
<meta property="article:modified_time" content="2022-04-28T23:17:28.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/passage_photo/git.jpg">
  
  
  <title>MySQL数据库学习 - 橙子味小白的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/an-old-hope.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/mac.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css# 鼠标指针.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/gundongtiao.css# 滚动条颜色.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"YPaTYhYFhjPewAGennadszRT-MdYXbMMI","app_key":"9Iyq3wxWTRNCT8wdNGHV4RMg","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>橙子味小白的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.4)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MySQL数据库学习">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-04-28 23:17" pubdate>
        2022年4月28日 23:17:28
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      20k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      167 分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySQL数据库学习</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2022年4月28日 23:17:28
                
              </p>
            
            <div class="markdown-body">
              <h2 id="一、数据库的基础知识"><a href="#一、数据库的基础知识" class="headerlink" title="一、数据库的基础知识"></a>一、数据库的基础知识</h2><h3 id="1-1数据库作用"><a href="#1-1数据库作用" class="headerlink" title="1.1数据库作用"></a>1.1数据库作用</h3><p>数据库（database） 保存有组织的数据的容器  </p>
<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1.实现数据的完整化<br>2.便于操作和管理<br></code></pre></div></td></tr></table></figure>

<blockquote>
<p>人们通常用数据库这个术语来代表他们使用的数据库软件。这是不正确的，确切地说，数据库软件应称为DBMS（数据库管理系统）。数据库是通过DBMS创建和操纵的容器。数据库可以是保存在硬设备上的文件，但也可以不是。在很大程度上说，数据库究竟是文件还是别的什么东西并不重要，因为你并不直接访问数据库；你使用的是DBMS，它替你访问数据库  </p>
</blockquote>
<h3 id="1-2DB、DBMS、SQL关系"><a href="#1-2DB、DBMS、SQL关系" class="headerlink" title="1.2DB、DBMS、SQL关系"></a>1.2DB、DBMS、SQL关系</h3><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span>数据库 (<span class="hljs-keyword">Database</span>):存储数据的仓库，保存一系列有组织的数据<br><span class="hljs-number">2.</span>数据库管理系统（<span class="hljs-keyword">Database</span> Management <span class="hljs-keyword">System</span>）：数据库是通过DBMS创建和操作的，常见的数据库管理系统有MySQL、Oracle、DB2、SqlServer<br><span class="hljs-number">3.</span>结构化查询语言（Structure Query <span class="hljs-keyword">Language</span>）:专门用来和数据库通信的语言，大部分DBMS都支持<span class="hljs-keyword">SQL</span><br>			 DBA    —————<span class="hljs-keyword">SQL</span>语言—————     DBMS    —————<span class="hljs-keyword">SQL</span>语言———————    DB   <br></code></pre></div></td></tr></table></figure>

<p>数据库管理员（Database Administrator，简称DBA）</p>
<h3 id="1-3数据库存储数据的特点"><a href="#1-3数据库存储数据的特点" class="headerlink" title="1.3数据库存储数据的特点"></a>1.3数据库存储数据的特点</h3><figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-number">1</span>.数据先放进表里，表再放进数据库<br><span class="hljs-number">2</span>.一个数据库可能有多个表，每个表有唯一名字，用来标识自己<br><span class="hljs-number">3</span>.表有一些特性，这些特性定义数据如何在表中存储，类似<span class="hljs-keyword">Java中的类</span><br><span class="hljs-keyword"></span><span class="hljs-number">4</span>.表由列组成，我们也成为字段，所有的表都是由一个或多个列组成，每一列类似<span class="hljs-keyword">JAVA中的属性</span><br><span class="hljs-keyword"></span><span class="hljs-number">5</span>.表中的数据按行存储的，每一行类似<span class="hljs-keyword">java中的对象</span><br></code></pre></div></td></tr></table></figure>

<h3 id="1-4MySQL特点"><a href="#1-4MySQL特点" class="headerlink" title="1.4MySQL特点"></a>1.4MySQL特点</h3><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">成本低，开源、免费、性能高、简单安装和使用<br></code></pre></div></td></tr></table></figure>

<h3 id="1-5DBMS分为两类"><a href="#1-5DBMS分为两类" class="headerlink" title="1.5DBMS分为两类"></a>1.5DBMS分为两类</h3><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-number">1</span>.基于共享文件系统的DBMS(微软的Access)   不需要安装服务端<br><span class="hljs-number">2</span>.基于客户机<span class="hljs-regexp">/服务器（C/</span>S）的DBMS（MySQL、Oracle、SqlServer）：需要安装客户端和服务端，数据存储在服务端，一般指安装服务端。<br></code></pre></div></td></tr></table></figure>

<h3 id="1-6MySQL服务的启动和停止"><a href="#1-6MySQL服务的启动和停止" class="headerlink" title="1.6MySQL服务的启动和停止"></a>1.6MySQL服务的启动和停止</h3><figure class="highlight dos"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dos"><span class="hljs-number">1</span>.手动到我的电脑-管理-服务和应用程序-MySQL57停止。<br><span class="hljs-number">2</span>.<span class="hljs-built_in">cmd</span>以管理员身份运行。	<span class="hljs-built_in">net</span> <span class="hljs-built_in">start</span>/stop mysql57<br></code></pre></div></td></tr></table></figure>

<h3 id="1-7MySQL服务的登录和退出"><a href="#1-7MySQL服务的登录和退出" class="headerlink" title="1.7MySQL服务的登录和退出"></a>1.7MySQL服务的登录和退出</h3><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">MySQL服务必须开启！<br><span class="hljs-number">1</span>.可以用软件自带的客户端进去，但是只能自己访问（不推荐）<br><span class="hljs-number">2</span>.可以用命令行	mysql （-h localhost -P <span class="hljs-number">3306</span>） -u root -proot<br>				host:主机名称	P:端口号 	password后边不能有空格，其他的可以有<br>退出：<span class="hljs-keyword">exit</span>/Ctrl+c<br></code></pre></div></td></tr></table></figure>

<blockquote>
<p>如果不行应该是没配置环境变量，path里边加入MySQL安装路径，到bin目录</p>
</blockquote>
<h3 id="1-8-MySQL的命令"><a href="#1-8-MySQL的命令" class="headerlink" title="1.8 MySQL的命令"></a>1.8 MySQL的命令</h3><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">查看所有数据库:	  <span class="hljs-keyword">show</span> databases;		<br>打开指定库:			use test; <br>查看当前库的所有表:	 <span class="hljs-keyword">show</span> <span class="hljs-keyword">tables</span>;  <br>看其他库的所有表 	  <span class="hljs-keyword">show</span> <span class="hljs-keyword">tables</span> <span class="hljs-keyword">from</span> mysql;<br>查看当前位置:		   <span class="hljs-keyword">select</span> <span class="hljs-keyword">database</span>();		<br>看表的结构：		 <span class="hljs-keyword">desc</span> 表名字<br>查看表的所有索引	<span class="hljs-keyword">show</span> <span class="hljs-keyword">index</span> <span class="hljs-keyword">from</span> 表名<br>查看数据库版本：<span class="hljs-keyword">select</span> version();		退出去之后，msaql <span class="hljs-comment">--version</span><br><br>看数据：	 	 <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> sss;<br>插入数据：    	 <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> sss (id,<span class="hljs-type">name</span>) <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;rose&#x27;</span>);<br>修改				<span class="hljs-keyword">update</span> sss <span class="hljs-keyword">set</span> <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;llliiii&#x27;</span> <span class="hljs-keyword">where</span> id=<span class="hljs-number">1</span>;<br>删除				<span class="hljs-keyword">delete</span> form sss <span class="hljs-keyword">where</span> id=<span class="hljs-number">1</span>;<br>建表：		   		 creat <span class="hljs-keyword">table</span> +表名字（列名 列类型，列名 列类型）		<br>					例：creat <span class="hljs-keyword">table</span> sss(id <span class="hljs-type">int</span>, <span class="hljs-type">name</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>));<br></code></pre></div></td></tr></table></figure>

<h3 id="1-9语法规范"><a href="#1-9语法规范" class="headerlink" title="1.9语法规范"></a>1.9语法规范</h3><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-number">1.</span>不区分大小写，建议关键字大些，表名、列名小写<br><span class="hljs-number">2.</span>每条命令分号结尾<br><span class="hljs-number">3.</span>命令比较长，可以缩进换行<br>		建议	 <span class="hljs-keyword">SELECT</span><br>			  <span class="hljs-operator">*</span><br>			  <span class="hljs-keyword">FROM</span><br>			  sss<br><span class="hljs-number">4.</span>注释<br>	单行注释：#注释文字<br>	单行注释：<span class="hljs-comment">--注释文字</span><br>	多行注释：<span class="hljs-comment">/*文字*/</span><br></code></pre></div></td></tr></table></figure>

<h3 id="1-10MySQL图形化客户端"><a href="#1-10MySQL图形化客户端" class="headerlink" title="1.10MySQL图形化客户端"></a>1.10MySQL图形化客户端</h3><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">root<span class="hljs-variable">@locallhost</span>  表示通过root链接到localhost<br>询问保存的文件的格式是 .<span class="hljs-keyword">sql</span><br></code></pre></div></td></tr></table></figure>

<p>MySQL库内容</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc"><span class="hljs-code">+--------------------+</span><br>| information<span class="hljs-emphasis">_schema |	原数据信息</span><br><span class="hljs-emphasis">| mysql              |	保存用户信息</span><br><span class="hljs-emphasis">| performance_</span>schema |	收集性能信息参数<br><span class="hljs-section">| sys                |	测试数据，空的，可以建表，删除其他三个不要动 </span><br><span class="hljs-section">+--------------------+</span><br></code></pre></div></td></tr></table></figure>

<h3 id="1-11主键"><a href="#1-11主键" class="headerlink" title="1.11主键"></a>1.11主键</h3><p>主键（primary key） 一列（或一组列），其值能够唯一区分表中每个行</p>
<p>唯一标识表中每行的这个列（或这组列）称为主键。主键用来表示一个特定的行。没有主键，更新或删除表中特定行很困难，因为没有安全的方法保证只涉及相关的行  </p>
<p>表中的任何列都可以作为主键，只要它满足以下条件：</p>
<figure class="highlight 1c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs 1c"><span class="hljs-number">1</span>.任意两行都不具有相同的主键值；<br><span class="hljs-number">2</span>.每个行都必须具有一个主键值（主键列不允许<span class="hljs-literal">NULL</span>值）。  <br></code></pre></div></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">主键的最好习惯 除MySQL强制实施的规则外，应该坚持的几个普遍认可的最好习惯为：<br>1.不更新主键列中的值；<br>2.不重用主键列的值；<br>3.不在主键列中使用可能会更改的值。（例如，如果使用一个名字作为主键以标识某个供应商，当该供应商合并和更改其名字时，必须更改这个主键。）  <br></code></pre></div></td></tr></table></figure>



<h2 id="二、DQL语言"><a href="#二、DQL语言" class="headerlink" title="二、DQL语言"></a>二、DQL语言</h2><p>(Data Query Language 数据查询语言)     用于查询数据</p>
<h4 id="2-1-select查询"><a href="#2-1-select查询" class="headerlink" title="2.1 select查询"></a>2.1 select查询</h4><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">	<span class="hljs-number">1.</span>查询字段：<br>		<span class="hljs-keyword">select</span> 查询列表（逗号隔开）<br>		<span class="hljs-keyword">from</span>	表名；	<br>											<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> sss     *代表所有的字段  <br>	<span class="hljs-number">2.</span>查询常量值：<br>		<span class="hljs-keyword">select</span> <span class="hljs-number">100</span>；<br>	<span class="hljs-number">3.</span>查询表达式：<br>		<span class="hljs-keyword">select</span> <span class="hljs-number">100</span>*<span class="hljs-number">9</span>；<br>	<span class="hljs-number">4.</span>查询函数：<br>		<span class="hljs-keyword">select</span> VERSION();<br>		<br><span class="hljs-keyword">limit</span>：限制条数，放在最后<br>		<span class="hljs-keyword">limit</span> <span class="hljs-number">5</span> ，只输出<span class="hljs-number">5</span>行 ， linit <span class="hljs-number">5</span>,<span class="hljs-number">5</span>  ，从第<span class="hljs-number">6</span>行开始输出<span class="hljs-number">5</span>行（<span class="hljs-keyword">limit</span>从<span class="hljs-number">0</span>开始）<br><span class="hljs-keyword">distinct</span>：去重<br>		查询去重： <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> 查询列表 <span class="hljs-keyword">from</span> sss；<br>		<br>特点：<br><span class="hljs-number">1.</span>查询列表可以是：表中的字段、常量值、表达式、函数<br><span class="hljs-number">2.</span>查询的结果是一个虚拟的表格<br></code></pre></div></td></tr></table></figure>

<h4 id="2-2-起别名"><a href="#2-2-起别名" class="headerlink" title="2.2 起别名"></a>2.2 起别名</h4><p>起别名&#x3D;&#x3D;单引号双引号都行&#x3D;&#x3D;,建议双引号,而且有特殊符号必须要加引号，并且可以解决查询字段有重名的情况，对于别名中冲突关键字的用双引号（AS） 或者省略</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> <span class="hljs-number">100</span>*<span class="hljs-number">99</span> <span class="hljs-keyword">AS</span> 结果；			<br><span class="hljs-keyword">select</span> last_name <span class="hljs-keyword">AS</span> 姓 <span class="hljs-keyword">from</span> sss <br></code></pre></div></td></tr></table></figure>

<h4 id="2-3-concat连接"><a href="#2-3-concat连接" class="headerlink" title="2.3 concat连接"></a>2.3 concat连接</h4><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">连接字段 CONCAT(<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>) <span class="hljs-keyword">AS</span>  结果	<br>	如果是<span class="hljs-keyword">null</span>+任意，结果都是<span class="hljs-keyword">null</span><br>	concat 可以有ifnull<br>	mysql的+只做加法运算功能<br>	如果是字符+数字，字符能转换成整数的，转换成整数加，不能则是<span class="hljs-number">0</span>+数字。<br><br>判断空  IFNULL（要判断的字段，要取代的值）<br></code></pre></div></td></tr></table></figure>

<blockquote>
<figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada"><span class="hljs-number">1</span>.要先打开库  <span class="hljs-keyword">USE</span> myemployees<br><span class="hljs-number">2</span>.对与不想成为关键字的要用~~抱住，着重号<br><span class="hljs-number">3</span>.执行的时候，选中谁执行谁<br><span class="hljs-number">4</span>.F12格式化<br><span class="hljs-number">5</span>.单引号代表字符，对于别名中冲突关键字的用双引号<br></code></pre></div></td></tr></table></figure>

</blockquote>
<h4 id="2-4条件查询"><a href="#2-4条件查询" class="headerlink" title="2.4条件查询"></a>2.4条件查询</h4><h5 id="2-4-1-where筛选"><a href="#2-4-1-where筛选" class="headerlink" title="2.4.1 where筛选"></a>2.4.1 where筛选</h5><figure class="highlight sas"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sas">语法<br>	<span class="hljs-keyword">select</span> 查询列表     执行顺序： 3	<br>	<span class="hljs-keyword">from</span>   表明				  1<br>	<span class="hljs-keyword">where</span>  	筛选条件；			2<br>	<br>条件运算符筛选：&gt;    &lt;   =     !=  &lt;&gt;不等     &gt;=  &lt;=  <br>逻辑表达式筛选： <span class="hljs-variable">&amp;&amp;</span>  || ！    推荐  <span class="hljs-keyword">and</span>  <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <br></code></pre></div></td></tr></table></figure>

<h5 id="2-4-2-模糊查询like"><a href="#2-4-2-模糊查询like" class="headerlink" title="2.4.2 模糊查询like"></a>2.4.2 模糊查询like</h5><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">like</span><br>	<span class="hljs-keyword">WHERE</span>  last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%a%&#x27;</span>；包含a的字段<br>	<span class="hljs-keyword">like</span>一般和通配符使用<br>	<span class="hljs-operator">%</span>通配符 任意多个字符，包含<span class="hljs-number">0</span>个字符<br>	_通配符 任意单个字符  可以多个连用  比如    <span class="hljs-string">&#x27;_ _ n _ 1&#x27;</span>没有空格<br>	转义字符：  	如何像查询<span class="hljs-operator">%</span> 或者_的字段，用转移字符 加\     如 \<span class="hljs-operator">%</span><br>	  		    推荐用<span class="hljs-keyword">WHERE</span>  last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;_$_%&#x27;</span> <span class="hljs-keyword">ESCAPE</span> <span class="hljs-string">&#x27;$&#x27;</span>，指用任意的$代表转义字符 <br></code></pre></div></td></tr></table></figure>

<p>&#x3D;&#x3D;ESCAPE ‘$’&#x3D;&#x3D;   必须%  _  这样的才可以escape  其他 一律\</p>
<h5 id="2-4-3-between-and筛选"><a href="#2-4-3-between-and筛选" class="headerlink" title="2.4.3 between and筛选"></a>2.4.3 between and筛选</h5><figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-keyword">between </span><span class="hljs-keyword">and </span>语法<br>	select <br>		* <br>	from <br>	where  ...  <span class="hljs-keyword">between </span> <span class="hljs-number">100</span> <span class="hljs-keyword">and </span><span class="hljs-number">200</span>    等价于 &gt;=<span class="hljs-number">100</span>  <span class="hljs-keyword">and </span>&lt;=<span class="hljs-number">200</span><br><span class="hljs-number">1</span>.包含临界值<br><span class="hljs-number">2</span>.提高简洁<br><span class="hljs-number">3</span>.不能换顺序<br></code></pre></div></td></tr></table></figure>

<h5 id="2-4-4-in筛选"><a href="#2-4-4-in筛选" class="headerlink" title="2.4.4 in筛选"></a>2.4.4 in筛选</h5><figure class="highlight axapta"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs axapta"><span class="hljs-keyword">in</span> 语法<br>	判断是否属于<br>	<span class="hljs-keyword">select</span> <br>		* <br>	<span class="hljs-keyword">from</span> <br>	<span class="hljs-keyword">where</span>  ...  <span class="hljs-keyword">in</span>(<span class="hljs-string">&#x27;100&#x27;</span>,<span class="hljs-string">&#x27;200&#x27;</span>)    等价于 =<span class="hljs-number">100</span>  and =<span class="hljs-number">200</span><br>	<br></code></pre></div></td></tr></table></figure>

<h5 id="2-4-5-ifnull（a-9）判断空"><a href="#2-4-5-ifnull（a-9）判断空" class="headerlink" title="2.4.5 ifnull（a,9）判断空"></a>2.4.5 ifnull（a,9）判断空</h5><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span>  <span class="hljs-built_in">ifnull</span>(asss,<span class="hljs-number">0</span>)  如果ASSS是<span class="hljs-literal">null</span>，则为<span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure>

<h5 id="2-4-6-is-null和-isnull（a）"><a href="#2-4-6-is-null和-isnull（a）" class="headerlink" title="2.4.6 is null和 isnull（a）"></a>2.4.6 is null和 isnull（a）</h5><figure class="highlight csharp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs csharp"><span class="hljs-keyword">is</span> (<span class="hljs-keyword">not</span>) <span class="hljs-literal">null</span> 语法     不能直接whrere  ...=<span class="hljs-literal">null</span><br>	<span class="hljs-keyword">select</span> <br>		* <br>	<span class="hljs-keyword">from</span> <br>	<span class="hljs-keyword">where</span>  ...  <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>    判断是否为<span class="hljs-function"><span class="hljs-literal">null</span></span><br><span class="hljs-function"><span class="hljs-title">isnull</span>(<span class="hljs-params">dddd</span>) 判断是否<span class="hljs-literal">null</span>  是dddd</span> = <span class="hljs-number">1</span>，否<span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dart">&lt;=&gt;安全等于<br>	=或者!= 或者&lt;&gt; 不能判断<span class="hljs-keyword">null</span>	<br>	安全等于既可以判断是否等于，也可以判断是否<span class="hljs-keyword">null</span>，但可读性低<br><span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>则只能判断<span class="hljs-keyword">null</span>，可读性较高<br></code></pre></div></td></tr></table></figure>

<h4 id="2-5-排序查询order-by"><a href="#2-5-排序查询order-by" class="headerlink" title="2.5 排序查询order by"></a>2.5 排序查询order by</h4><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span> 			<span class="hljs-number">3</span>	<br><span class="hljs-keyword">from</span>			<span class="hljs-number">1</span><br>whrer			<span class="hljs-number">2</span><br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序列表【<span class="hljs-keyword">asc</span>|<span class="hljs-keyword">desc</span>】  不写默认是升序		<span class="hljs-number">4</span><br>          排序列表可以是函数，别名，表达式，也可以是多个排序方式 <br>        多个排序： ordey <span class="hljs-keyword">by</span> aaa <span class="hljs-keyword">ASC</span> ， bbb <span class="hljs-keyword">DESC</span>；<br>       <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 一般在最后面，除了Linit子句<br></code></pre></div></td></tr></table></figure>

<h4 id="2-6-常见函数"><a href="#2-6-常见函数" class="headerlink" title="2.6 常见函数"></a>2.6 常见函数</h4><p>类似JAVA中的方法，隐藏了实现细节，提高代码重用性</p>
<figure class="highlight oxygene"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs oxygene">调用方式：<br>	<span class="hljs-keyword">select</span> 函数名（实参列表） 【<span class="hljs-keyword">from</span>表】<span class="hljs-punctuation">;</span><br>分类<br>	<span class="hljs-number">1</span>.单行函数    返回一个值<br>		如<span class="hljs-keyword">concat</span> length ifnull<span class="hljs-punctuation">;</span>  <br>	<span class="hljs-number">2</span>.分组函数（统计使用，又称统计函数，聚合函数，组函数）<br>		返回一组值<br></code></pre></div></td></tr></table></figure>

<h5 id="2-6-1-单行函数"><a href="#2-6-1-单行函数" class="headerlink" title="2.6.1 单行函数"></a>2.6.1 单行函数</h5><h6 id="1-字符函数"><a href="#1-字符函数" class="headerlink" title="1.字符函数"></a>1.字符函数</h6><p>① length函数   获取参数值字节个数</p>
<figure class="highlight isbl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title"><span class="hljs-built_in">length</span></span>(<span class="hljs-string">&#x27;ddd&#x27;</span>)   <span class="hljs-number">3</span>	  <span class="hljs-title"><span class="hljs-built_in">length</span></span>(<span class="hljs-string">&#x27;啊啊&#x27;</span>)   <span class="hljs-number">6</span></span><br></code></pre></div></td></tr></table></figure>

<p>② 显示所用字符集 </p>
<figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams">show <span class="hljs-keyword">variables</span> like <span class="hljs-comment">&#x27;%char%&#x27;</span>   <br></code></pre></div></td></tr></table></figure>

<blockquote>
<p>UTF-8 汉字3个字节       GBK 汉字2个字节</p>
</blockquote>
<p>③ concat函数    拼接字符串</p>
<figure class="highlight csharp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">select</span> <span class="hljs-title">concat</span>(<span class="hljs-params">last_name,<span class="hljs-string">&#x27;_&#x27;</span>,first_name</span>) 姓名 <span class="hljs-keyword">from</span> employees</span>;<br></code></pre></div></td></tr></table></figure>

<p>④upper、lower函数  变大写小写</p>
<figure class="highlight isbl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs isbl"><span class="hljs-variable">SELECT</span> <span class="hljs-function"><span class="hljs-title">UPPER</span>(<span class="hljs-string">&#x27;asdf&#x27;</span>)</span><br></code></pre></div></td></tr></table></figure>

<p>⑤ substr\substring  截取字符串     sql中索引都是从1开始</p>
<figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss"><span class="hljs-built_in">substr</span>(&#x27;asdffd&#x27;,<span class="hljs-number">4</span>);	截取第四个（包括）后边字符<br><span class="hljs-built_in">substr</span>(&#x27;asdffd&#x27;,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>); 截取第一个(包括)后边<span class="hljs-number">2</span>个字符(字符,不是字节)<br></code></pre></div></td></tr></table></figure>

<p>⑥ instr 函数 返回子字符串出现的第一次所以，如果找不到，返回0</p>
<figure class="highlight hsp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs hsp"><span class="hljs-keyword">instr</span>(<span class="hljs-string">&#x27;acccc&#x27;</span>,<span class="hljs-string">&#x27;cccc&#x27;</span>)<span class="hljs-comment">;    2</span><br></code></pre></div></td></tr></table></figure>

<p>⑦ trim 函数   去空格&#x2F;其他的东西</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">trim</span><span class="hljs-params">(<span class="hljs-string">&#x27;   cc   &#x27;</span>)</span></span>    cc<br><span class="hljs-function"><span class="hljs-title">trim</span><span class="hljs-params">(<span class="hljs-string">&#x27;a&#x27;</span> from <span class="hljs-string">&#x27;aa啊aa卡aa&#x27;</span> )</span></span>  啊aa卡   去前后，不去中间 		<br></code></pre></div></td></tr></table></figure>

<p>⑦ lpad 函数 用指定的字符左填充到指定长度，超过右边截断</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">lpad</span><span class="hljs-params">(<span class="hljs-string">&#x27;aab&#x27;</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;*&#x27;</span>)</span></span>   aa<br><span class="hljs-function"><span class="hljs-title">lpad</span><span class="hljs-params">(<span class="hljs-string">&#x27;ac&#x27;</span>,<span class="hljs-number">9</span>,<span class="hljs-string">&#x27;*&#x27;</span>)</span></span>  *******ac<br></code></pre></div></td></tr></table></figure>

<p>⑨  rpad 函数 用指定的字符右填充到指定长度，超过左边截断</p>
<p>⑩ replace 函数   替换</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">replace</span><span class="hljs-params">(<span class="hljs-string">&#x27;啊我啊我嗷呜&#x27;</span>,<span class="hljs-string">&#x27;啊&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>)</span></span>  <span class="hljs-number">1</span>我<span class="hljs-number">1</span>我嗷呜<br></code></pre></div></td></tr></table></figure>

<p>⑩count（subject） 函数，统计个数多少个subject</p>
<figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss"><span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) ,  <span class="hljs-built_in">count</span>(*)<br></code></pre></div></td></tr></table></figure>

<h6 id="2-数学函数"><a href="#2-数学函数" class="headerlink" title="2.数学函数"></a>2.数学函数</h6><p>① round函数  四舍五入</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">round</span>(-<span class="hljs-number">1</span>.<span class="hljs-number">55</span>)   -<span class="hljs-number">2</span><br><span class="hljs-attribute">round</span>(<span class="hljs-number">1</span>.<span class="hljs-number">456</span>,<span class="hljs-number">2</span>)  <span class="hljs-number">1</span>.<span class="hljs-number">46</span><br></code></pre></div></td></tr></table></figure>

<p>② ceil 函数  向上取整</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">ceil</span>(-<span class="hljs-number">1</span>.<span class="hljs-number">02</span>) -<span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure>

<p>③ floor 向x取整</p>
<p>④ truncate 直接截断 </p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">truncate</span>(<span class="hljs-number">1</span>.<span class="hljs-number">699999</span>,<span class="hljs-number">1</span>)  <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure>

<p>⑤ mod 取余数   和被除数符号一致</p>
<figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css">mod(<span class="hljs-number">10</span>，-<span class="hljs-number">3</span>) <span class="hljs-number">1</span>        被除数为正，余数为正，被除数负数，余数为负     <br>				    算法mod(<span class="hljs-selector-tag">a</span>,<span class="hljs-selector-tag">b</span>)  <span class="hljs-selector-tag">a</span>-<span class="hljs-selector-tag">a</span>/<span class="hljs-selector-tag">b</span>*<span class="hljs-selector-tag">b</span>;<br></code></pre></div></td></tr></table></figure>

<h6 id="3-日期函数"><a href="#3-日期函数" class="headerlink" title="3.日期函数"></a>3.日期函数</h6><p>① now 返回现在的日期+时间</p>
<p>② curdate 返回当前系统日期，不包含时间</p>
<p>③ curtime 返回当前时间，不包含日期</p>
<p>④ 可以获取指定的部分，年月日，时分秒<br>        year  month(monthname英文名) day  hour minuit second </p>
<figure class="highlight isbl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs isbl"><span class="hljs-variable">select</span> <span class="hljs-function"><span class="hljs-title">year</span>(<span class="hljs-title"><span class="hljs-built_in">now</span></span>()) <span class="hljs-variable">as</span> 年</span><br></code></pre></div></td></tr></table></figure>

<p>⑤ datediff 返回两个日期相差的天数</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">SELECT</span> DATEDIFF(NOW(),&#x27;<span class="hljs-number">2021</span>-<span class="hljs-number">09</span>-<span class="hljs-number">04</span>&#x27;);<br></code></pre></div></td></tr></table></figure>

<p>⑥ str_to_date  将字符转换成指定格式的日期</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">str_to_date</span><span class="hljs-params">(<span class="hljs-string">&#x27;9-13-1999&#x27;</span>,<span class="hljs-string">&#x27;%m-%d-%Y&#x27;</span>)</span></span><br></code></pre></div></td></tr></table></figure>

<p>⑦ date_format   将日期转换成字符</p>
<figure class="highlight haml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haml">date_format(&#x27;2018/6/6&#x27;,&#x27;%Y年%m月%d日&#x27;)  2018年6月6日<br><span class="hljs-tag">		%<span class="hljs-selector-tag">Y</span></span>   四位年份<br><span class="hljs-tag">		%<span class="hljs-selector-tag">y</span></span> 	 2位年份<br><span class="hljs-tag">		%<span class="hljs-selector-tag">m</span></span>	月份（01，02）<br><span class="hljs-tag">		%<span class="hljs-selector-tag">c</span></span>  月份（1，2）<br><span class="hljs-tag">		%<span class="hljs-selector-tag">d</span></span>   日（01，02）<br><span class="hljs-tag">		%<span class="hljs-selector-tag">H</span></span> 	小时（24小时）<br><span class="hljs-tag">		%<span class="hljs-selector-tag">h</span></span>	12小时<br><span class="hljs-tag">		%<span class="hljs-selector-tag">i</span></span>	分钟（00，01）<br><span class="hljs-tag">		%<span class="hljs-selector-tag">s</span></span>  秒（00.01）<br></code></pre></div></td></tr></table></figure>

<h6 id="4-其他函数"><a href="#4-其他函数" class="headerlink" title="4.其他函数"></a>4.其他函数</h6><p>①version（） 版本</p>
<p>②database()	当前位置</p>
<p>③user()		查询当前用户</p>
<p>④password(‘字符’)         加密sql8.0之后弃用  </p>
<p>​			MD5(字符)	返回字符MD5加密的结果</p>
<h6 id="5-流程控制函数"><a href="#5-流程控制函数" class="headerlink" title="5.流程控制函数"></a>5.流程控制函数</h6><p>① if函数   if（10&gt;5,1,2）   1 三运运算符</p>
<p>② case函数			可以无else  ，不能无end</p>
<figure class="highlight erlang"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs erlang">	<span class="hljs-keyword">case</span> 要判断的量<br>	<span class="hljs-keyword">when</span> 常量<span class="hljs-number">1</span>  then   ...<br>	<span class="hljs-keyword">when</span> 常量<span class="hljs-number">3</span>  then   ...<br>	<span class="hljs-keyword">when</span> 常量<span class="hljs-number">2</span>  then   ...<br>	else   ...<br>	<span class="hljs-keyword">end</span> <br>或者<br>	<span class="hljs-keyword">case</span><br>		<span class="hljs-keyword">when</span>  条件<span class="hljs-number">1</span>   then   ...<br>		<span class="hljs-keyword">when</span>  条件<span class="hljs-number">2</span>   then   ...<br>		else   ....<br>		<span class="hljs-keyword">end</span> <br></code></pre></div></td></tr></table></figure>

<h5 id="2-6-2-分组函数"><a href="#2-6-2-分组函数" class="headerlink" title="2.6.2 分组函数"></a>2.6.2 分组函数</h5><p>功能：统计使用，又称为聚合函数或者统计函数、组函数 有 sum、avg、max、min、count</p>
<p>sun（工资）     求的是一列的工资总和  				count     统计的是非空的个数</p>
<p>①参数类型</p>
<figure class="highlight q"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs q"><span class="hljs-built_in">avg</span>,<span class="hljs-built_in">sum</span>,一般就用数值型，<br><span class="hljs-built_in">max</span>，<span class="hljs-built_in">min</span>，<span class="hljs-built_in">count</span>可任何类型，比如名字排序，日期<br></code></pre></div></td></tr></table></figure>

<p>②是否忽略null </p>
<figure class="highlight q"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs q"><span class="hljs-built_in">null</span> + 任何==<span class="hljs-built_in">null</span><br><span class="hljs-built_in">sum</span> <span class="hljs-built_in">avg</span> <span class="hljs-built_in">max</span>,<span class="hljs-built_in">min</span> <span class="hljs-built_in">count</span>  全部忽略<span class="hljs-built_in">null</span><br></code></pre></div></td></tr></table></figure>

<p>④都可以和distinct搭配 </p>
<figure class="highlight arcade"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arcade"><span class="hljs-built_in">sum</span>（<span class="hljs-built_in">distinct</span>  salary）<br></code></pre></div></td></tr></table></figure>

<p>⑤count函数</p>
<figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss"> 	<span class="hljs-built_in">count</span>(*) 统计所有行        <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)    加了一列<span class="hljs-number">1</span> 统计<span class="hljs-number">1</span>的个数，即统计行<br>效率<br>    	MYISAM存储引擎下，<span class="hljs-built_in">COUNT</span>(*)效率高   以前的存储引擎<br>    	INNODB存储引擎下，<span class="hljs-built_in">count</span>(*)和<span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)差不多，比<span class="hljs-built_in">count</span>(字段)要高<br></code></pre></div></td></tr></table></figure>

<h4 id="2-7-分组查询-group-by"><a href="#2-7-分组查询-group-by" class="headerlink" title="2.7 分组查询 group by"></a>2.7 分组查询 group by</h4><p>和分组函数一同查询的字段，要求是group by后出现的字段</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">分组查询格式:<br> <span class="hljs-keyword">select</span>     分组函数，分组后的字段		  <span class="hljs-number">5</span><br> <span class="hljs-keyword">from</span>       表						<span class="hljs-number">1</span>		<br>【<span class="hljs-keyword">where</span>     筛选条件】			     <span class="hljs-number">2</span>		<br> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span>    分组的字段				  <span class="hljs-number">3</span><br>【<span class="hljs-keyword">having</span>      分组后筛选】				<span class="hljs-number">4</span>	<br>【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span>    排序列表】			     <span class="hljs-number">6</span><br> <br> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span>  也可以是函数表达式.<br> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span>  可以是多个字段分组,逗号隔开<br><br> 分组查询<br> 分组前筛选      原始表      <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 子句前边，  whrer<br> 分组后筛选		分组后的结果集		 <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 子句后边   <span class="hljs-keyword">having</span><br><span class="hljs-number">1</span> 分组函数做条件放在<span class="hljs-keyword">having</span>子句中<br><span class="hljs-number">2</span> 能用分组前筛选就用分组前<span class="hljs-keyword">where</span><br></code></pre></div></td></tr></table></figure>

<p>比如查询有奖金的每个领导手下的最高工资 这里领导要分组</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(工资),领导部门<br><span class="hljs-keyword">from</span>  员工<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 领导部门<br></code></pre></div></td></tr></table></figure>

<h4 id="2-8-连接查询"><a href="#2-8-连接查询" class="headerlink" title="2.8 连接查询"></a>2.8 连接查询</h4><p>多表查询时,查询的字段来自多个表时,会用到连接查询.</p>
<p>如果还是直接查询,会发生笛卡尔乘积,结果n*m行 </p>
<p>如何解决：添加有效的连接条件</p>
<figure class="highlight nestedtext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nestedtext"><span class="hljs-attribute">按年代分类,有sql92标准   仅支持内连接  也支持一部分外连接（用于oracle,sqlserver,mysql不支持）</span><br><span class="hljs-attribute">		   sql99标准	内连接,外连接(左外，右外，全外（mysql不支持全外）),交叉连接</span><br><span class="hljs-attribute">按功能</span><br><span class="hljs-attribute">    内连接</span><span class="hljs-punctuation">:</span> <span class="hljs-string"> 等值连接,非等值连接,自连接</span><br>    <span class="hljs-attribute">外连接</span><span class="hljs-punctuation">:</span> <span class="hljs-string"> 左外连接,右外连接,全外连接</span><br>    交叉连接<br></code></pre></div></td></tr></table></figure>

<h5 id="2-8-1sql92标准"><a href="#2-8-1sql92标准" class="headerlink" title="2.8.1sql92标准"></a>2.8.1sql92标准</h5><h6 id="1-等值连接"><a href="#1-等值连接" class="headerlink" title="1.等值连接:"></a>1.等值连接:</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式<br>        <span class="hljs-keyword">select</span>  查询列表<br>        <span class="hljs-keyword">from</span> 表<span class="hljs-number">1</span> 别名，表<span class="hljs-number">2</span> 别名<br>        <span class="hljs-keyword">where</span> 表<span class="hljs-number">1.</span><span class="hljs-keyword">key</span> = 表<span class="hljs-number">2.</span><span class="hljs-keyword">key</span><br>        【<span class="hljs-keyword">and</span> 筛选条件】<br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br> 		<br> 注意可以为表起别名，但是起别名之后原名不能在使用了.<br> 			两个表的顺序可以调换<br> 			可以加筛选  用<span class="hljs-keyword">and</span><br> 			可以加分组<br> 			可以加排序<br> 			可以多表连接<br> 	多表等值连接的结果为多表的交集<br> 	n个表连接,需要至少N<span class="hljs-number">-1</span>个条件<br> 	多表的顺序无要求<br> 	可以搭配排序,分组,筛选使用<br></code></pre></div></td></tr></table></figure>

<h6 id="2-非等值连接"><a href="#2-非等值连接" class="headerlink" title="2.非等值连接"></a>2.非等值连接</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式<br>        <span class="hljs-keyword">select</span>  查询列表<br>        <span class="hljs-keyword">from</span> 表<span class="hljs-number">1</span> 别名，表<span class="hljs-number">2</span> 别名<br>        <span class="hljs-keyword">where</span> 非等值连接条件             例如 <span class="hljs-keyword">between</span> <span class="hljs-keyword">and</span>  <br>        【<span class="hljs-keyword">and</span> 筛选条件】<br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<h6 id="3-自连接"><a href="#3-自连接" class="headerlink" title="3.自连接"></a>3.自连接</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式<br>        <span class="hljs-keyword">select</span>  查询列表<br>        <span class="hljs-keyword">from</span> 表 别名<span class="hljs-number">1</span>，表 别名<span class="hljs-number">2</span>		同一个表<br>        <span class="hljs-keyword">where</span> 等值连接条件             一般是   <br>        【<span class="hljs-keyword">and</span> 筛选条件】<br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">比如查询员工的上级,是根据员工的上级ID来匹配新的员工表,一张表当成两张用<br>           <span class="hljs-keyword">select</span> <span class="hljs-built_in">e</span>.employee_id,<span class="hljs-built_in">e</span>.last_name,  m.employee_id,m.last_name<br>           <span class="hljs-keyword">from</span> employees <span class="hljs-built_in">e</span> , employees m<br>           <span class="hljs-keyword">where</span> <span class="hljs-built_in">e</span>.manager_id = m.employee_id<br></code></pre></div></td></tr></table></figure>

<h5 id="2-8-2-sql99语法"><a href="#2-8-2-sql99语法" class="headerlink" title="2.8.2 sql99语法"></a>2.8.2 sql99语法</h5><p>内连接、外连接（左外、右外、全外(mysql不支持)）、交叉连接</p>
<h6 id="1-内连接inner"><a href="#1-内连接inner" class="headerlink" title="1.内连接inner"></a>1.内连接inner</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">inner</span>（可以省略）			查询两表共有的    交集<br>格式<br>        <span class="hljs-keyword">select</span>  查询列表						<br>        <span class="hljs-keyword">from</span> 表A									<br>        【<span class="hljs-keyword">inner</span>】<span class="hljs-keyword">join</span> 表<span class="hljs-number">2</span>  <span class="hljs-keyword">on</span> 连接条件						n个表连接,需要至少N<span class="hljs-number">-1</span>个条件<br>        【<span class="hljs-keyword">where</span>  筛选条件】<br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<h6 id="2-左外连接left"><a href="#2-左外连接left" class="headerlink" title="2.左外连接left"></a>2.左外连接left</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式							查询的是A的内容,包括a和b的交集	<br>        <span class="hljs-keyword">select</span>  查询列表					<br>        <span class="hljs-keyword">from</span> 表A						A是主表，从表不匹配显示<span class="hljs-literal">Null</span><br>        <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> 表B  <span class="hljs-keyword">on</span> 连接条件				a.<span class="hljs-keyword">key</span>=b.<span class="hljs-keyword">key</span><br>        【<span class="hljs-keyword">where</span>  筛选条件】			要查询A但不含交集，<span class="hljs-keyword">where</span> b.<span class="hljs-keyword">key</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span><br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<h6 id="3-右外链接"><a href="#3-右外链接" class="headerlink" title="3.右外链接"></a>3.右外链接</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式							查询的是B的内容<br>        <span class="hljs-keyword">select</span>  查询列表			<br>        <span class="hljs-keyword">from</span> 表A						B是主表<br>        <span class="hljs-keyword">right</span> <span class="hljs-keyword">join</span> 表B  <span class="hljs-keyword">on</span> 连接条件			a.<span class="hljs-keyword">key</span>=b.<span class="hljs-keyword">key</span><br>        【<span class="hljs-keyword">where</span>  筛选条件】				要查询B但不含交集，<span class="hljs-keyword">where</span> a.<span class="hljs-keyword">key</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span><br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<blockquote>
<p>特点：<br>    1.外连接查询的结果为主表中所有的记录<br>    2.如果表中没有和他匹配的，显示NULL<br>    3.如果匹配则显示匹配的值。</p>
</blockquote>
<h6 id="4-全外连接"><a href="#4-全外连接" class="headerlink" title="4.全外连接"></a>4.全外连接</h6><p>   内连接的结果+第一个有第二个没有的+第二个有第一个没有的</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">格式							查询的是A+B的内容<br>        <span class="hljs-keyword">select</span>  查询列表			<br>        <span class="hljs-keyword">from</span> 表A						<br>        full <span class="hljs-keyword">join</span> 表B  <span class="hljs-keyword">on</span> 连接条件			a.<span class="hljs-keyword">key</span>=b.<span class="hljs-keyword">key</span><br>        【<span class="hljs-keyword">where</span>  筛选条件】				要查询A+B但不含交集，<span class="hljs-keyword">where</span> a.<span class="hljs-keyword">key</span>/b.<span class="hljs-keyword">key</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span><br>        【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>        【<span class="hljs-keyword">having</span> 分组后的筛选】<br>        【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<h6 id="5-交叉连接"><a href="#5-交叉连接" class="headerlink" title="5.交叉连接"></a>5.交叉连接</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span>  查询列表<br><span class="hljs-keyword">from</span> 表A		<br><span class="hljs-keyword">cross</span> <span class="hljs-keyword">join</span> 表B <br>【<span class="hljs-keyword">where</span>  筛选条件】<br>【<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段】<br>【<span class="hljs-keyword">having</span> 分组后的筛选】<br>【<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段 】<br></code></pre></div></td></tr></table></figure>

<h5 id="2-8-3-sql92-和sql99对比"><a href="#2-8-3-sql92-和sql99对比" class="headerlink" title="2.8.3 sql92 和sql99对比"></a>2.8.3 sql92 和sql99对比</h5><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">sql99支持较多，可读性较高，sql99实现连接条件和筛选条件的分离<br></code></pre></div></td></tr></table></figure>



<h5 id="2-9子查询"><a href="#2-9子查询" class="headerlink" title="2.9子查询"></a>2.9子查询</h5><figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">出现在其他语句中的<span class="hljs-keyword">select</span>语句，称为子查询或内查询。<br>内部嵌套其他<span class="hljs-keyword">select</span>语句的查询，成为主查询或者外查询。<br></code></pre></div></td></tr></table></figure>

<h6 id="2-9-1-子查询的分类"><a href="#2-9-1-子查询的分类" class="headerlink" title="2.9.1 子查询的分类"></a>2.9.1 子查询的分类</h6><p>按子查询出现的位置分类：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">			<span class="hljs-keyword">select</span>后面                    仅支持标量子查询<br>	<span class="hljs-keyword">from</span>后面		                支持表子查询<br>	<span class="hljs-keyword">where</span>或<span class="hljs-keyword">having</span>后面		       标量子查询  列子查询  行子查询<br>	<span class="hljs-keyword">exists</span>（叫做相关子查询）后面    表子查询<br>          <br>         <br>  返回<span class="hljs-number">1</span> 有，<span class="hljs-number">0</span>无，不管几行几列，都可以，查询是不有值<br>表子查询<br></code></pre></div></td></tr></table></figure>

<p>按结果集的行列数不同分类：</p>
<figure class="highlight abnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs abnf">标量子查询（ 结果只有一行一列）    一般搭配着单行操作符使用 &gt;  &lt;  &gt;<span class="hljs-operator">=</span>  &lt;<span class="hljs-operator">=</span>  <span class="hljs-operator">=</span>  &lt;&gt;<br>列子查询（结果集只有一列多行）		一般搭配多行操作符使用， in amy/some all<br>行子查询（结果集有一行多列）<br>表子查询（结果集一般为多行多列）<br></code></pre></div></td></tr></table></figure>

<h6 id="2-9-2-子查询在where或having后面"><a href="#2-9-2-子查询在where或having后面" class="headerlink" title="2.9.2 子查询在where或having后面"></a>2.9.2 子查询在where或having后面</h6><figure class="highlight abnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs abnf">标量子查询  列子查询  行子查询<br>特点：<br><span class="hljs-number">1</span>.子查询都会放在小括号内<br><span class="hljs-number">2</span>.子查询一般放在条件的右侧<br><span class="hljs-number">3</span>.标量子查询，一般搭配着单行操作符使用    &gt;   &lt;   &gt;<span class="hljs-operator">=</span>   &lt;<span class="hljs-operator">=</span>   <span class="hljs-operator">=</span>   &lt;&gt;   <br>			标量子查询只要子查询不是一行一列，都是非法，没结果也是非法<br></code></pre></div></td></tr></table></figure>

<p>1.多行子查询，返回多行，使用多行比较操作符</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">in</span><span class="hljs-operator">/</span><span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> 		等于列表中的任意一个<br><span class="hljs-keyword">any</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">some</span>		和子查询返回的耨一个值比较<br><span class="hljs-keyword">all</span>     		和子查询返回的所有值比较<br></code></pre></div></td></tr></table></figure>

<p>例子</p>
<figure class="highlight sas"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sas">1.查询location_id在1400-1700<br>            <span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> department_id<br>            <span class="hljs-keyword">from</span> departments<br>            <span class="hljs-keyword">where</span> location_id i<span class="hljs-meta">n</span>(1400,1700);<br> 2.查询员工姓名，要求部门号是1中列表某一个<br> 		<span class="hljs-keyword">select</span> lase_name<br> 		<span class="hljs-keyword">from</span> employees<br> 		<span class="hljs-keyword">where</span> department_id i<span class="hljs-meta">n</span>(<br> 		            <span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> department_id<br>        		    <span class="hljs-keyword">from</span> departments<br>           			<span class="hljs-keyword">where</span> location_id i<span class="hljs-meta">n</span>(1400,1700)<br> 		);<br></code></pre></div></td></tr></table></figure>

<p>2.行子查询，多个字段查询（结果是一行多列，或者多行多列）不常用</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">例子：  查询工资最少并且销售额最高的员工信息<br><br>	<span class="hljs-keyword">select</span> *<br>	<span class="hljs-keyword">from</span> employees<br>	<span class="hljs-keyword">where</span> (employee_id,salary)=(<br>		<span class="hljs-keyword">select</span> <span class="hljs-built_in">min</span>(employee_id),<span class="hljs-built_in">max</span>(salary)<br>		<span class="hljs-keyword">from</span> employees<br>	)<br></code></pre></div></td></tr></table></figure>

<h6 id="2-9-3子查询在select后面"><a href="#2-9-3子查询在select后面" class="headerlink" title="2.9.3子查询在select后面"></a>2.9.3子查询在select后面</h6><p>仅仅支持标量子查询</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">例如，查询每个部门的员工个数<br><span class="hljs-keyword">select</span> d.*,(<br>		<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(*)<br>		<span class="hljs-keyword">from</span> employee <span class="hljs-built_in">e</span><br>		<span class="hljs-keyword">where</span> <span class="hljs-built_in">e</span>.department_id = d.department_id<br>		)  个数<br><span class="hljs-keyword">from</span> departments d;<br><br>也可以用左外连接<br>	<span class="hljs-keyword">SELECT</span> d.*,<span class="hljs-keyword">IF</span>(<span class="hljs-built_in">e</span>.<span class="hljs-symbol">`employee_id`</span>,<span class="hljs-built_in">COUNT</span>(d.department_id),<span class="hljs-number">0</span>)<br>	<span class="hljs-keyword">FROM</span> departments d<br>	<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees <span class="hljs-built_in">e</span> <span class="hljs-keyword">ON</span> d.<span class="hljs-symbol">`department_id`</span> = <span class="hljs-built_in">e</span>.department_id<br>	<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d.department_id;<br>注意if对空的判断，该操作是先把有部门的员工取出来，然后根据主表来分组，在计数，这个时候，因为分组之后count的计数，实际是对主表的每个部门的计数，因为每个部门都有记录，所以即使有的部门没有员工，但是由于count的是部门id，主表中一定有记录，但是该部门没有员工，所以会记录成1.<br>我们需要在这时判断没有有员工，没有直接给他清0<br>为什么不能where，是因为where直接过滤掉了部门没有员工的<br></code></pre></div></td></tr></table></figure>

<h6 id="2-9-4-子查询在from后面"><a href="#2-9-4-子查询在from后面" class="headerlink" title="2.9.4 子查询在from后面"></a>2.9.4 子查询在from后面</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">例如：查询每个部门的平均工资的工资等级<br>1.查询每个部门的平均工资<br>	<span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(salary),department_id<br>	<span class="hljs-keyword">from</span> employees<br>	<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> department_id<br><span class="hljs-number">2.</span>连接<span class="hljs-number">1</span>的结果和job_grades表，筛选条件平均工资<span class="hljs-keyword">between</span> lowest_sal <span class="hljs-keyword">and</span> highest_sal<br>	<span class="hljs-keyword">select</span> ag_dep.*,g.grade_level<br>	<span class="hljs-keyword">from</span> (<br>            <span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(salary),department_id<br>            <span class="hljs-keyword">from</span> employees<br>            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> department_id<br>	) ag_dep									<span class="hljs-comment">/*注意必须起别名*/</span><br>	<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> job_grades g <br>	<span class="hljs-keyword">on</span> ag_dep.ag <span class="hljs-keyword">between</span> lowest_sal <span class="hljs-keyword">and</span> highest_sal;<br></code></pre></div></td></tr></table></figure>

<h6 id="2-9-5-exists后面（相关子查询）"><a href="#2-9-5-exists后面（相关子查询）" class="headerlink" title="2.9.5 exists后面（相关子查询）"></a>2.9.5 exists后面（相关子查询）</h6><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">select</span> exists(完成的查询语句)   结果<span class="hljs-number">1</span>/<span class="hljs-number">0</span>       先执行著查询，到了位置执行子查询<br></code></pre></div></td></tr></table></figure>



<h5 id="2-10-分页查询"><a href="#2-10-分页查询" class="headerlink" title="2.10 分页查询"></a>2.10 分页查询</h5><p>​	应用场景，对于显示数据，一页显示不全，需要分页提交sql请求</p>
<p>语法：	 放在查询最后</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> 查询列表					  <span class="hljs-number">7</span><br><span class="hljs-keyword">from</span> 表							<span class="hljs-number">1</span>	<br>【jion <span class="hljs-keyword">type</span>】 jion 表<span class="hljs-number">2</span>				<span class="hljs-number">2</span><br><span class="hljs-keyword">on</span>  连接条件					  <span class="hljs-number">3</span><br>【<span class="hljs-keyword">where</span> 筛选条件】				<span class="hljs-number">4</span><br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> 分组字段			   	  <span class="hljs-number">5</span><br><span class="hljs-keyword">having</span> 分组后的筛选				<span class="hljs-number">6</span><br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> 排序字段				  <span class="hljs-number">8</span><br><span class="hljs-keyword">limit</span>【<span class="hljs-keyword">offset</span>】, size;	<span class="hljs-keyword">offset</span>要显示条目的起始索引（从<span class="hljs-number">0</span>索引开始） size显示条目个数<br></code></pre></div></td></tr></table></figure>

<p>例如</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">显示前5条信息<br>	<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> employees <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">5</span>       <span class="hljs-number">0</span>可以省略<br></code></pre></div></td></tr></table></figure>

<p>分页公式</p>
<figure class="highlight arduino"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arduino"><span class="hljs-built_in">linit</span> (page<span class="hljs-number">-1</span>)*size,size		page 要分的页数，  size 每页的条数<br></code></pre></div></td></tr></table></figure>



<h5 id="2-11-联合查询-union"><a href="#2-11-联合查询-union" class="headerlink" title="2.11 联合查询  union"></a>2.11 联合查询  union</h5><p>应用场景：查询的结果来自多个表，但是多个表没有联系，而需要查询的信息是一致</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">语法：<br>        查询语句<span class="hljs-number">1</span><br>        <span class="hljs-keyword">union</span><br>        查询语句<span class="hljs-number">2</span><br>        <span class="hljs-keyword">union</span><br>        .....<br>        <span class="hljs-keyword">select</span><br>       <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employees <span class="hljs-keyword">where</span> email <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a%&#x27;</span> <span class="hljs-keyword">or</span> department_id<span class="hljs-operator">&gt;</span><span class="hljs-number">90</span><br><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span><span class="hljs-operator">=</span>   <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employees <span class="hljs-keyword">where</span> email <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a%&#x27;</span><br>	   <span class="hljs-keyword">union</span>  <span class="hljs-keyword">from</span> employees <span class="hljs-keyword">where</span>  department_id<span class="hljs-operator">&gt;</span><span class="hljs-number">90</span><br>	   <br><span class="hljs-number">1.</span>将查询条件拆分出来，其查询目的都是一样，就是把筛选条件分开了<br><span class="hljs-number">2.</span>将不同表查询目的一样的联合起来，其表名和第一个表一致<br><br>注意：<br>	<span class="hljs-number">1.</span>联合查询中多个联合的列数要一致<br>	<span class="hljs-number">2.</span><span class="hljs-keyword">union</span>关键联合多个表时，会自动将一样的去重，如果不想去重，使用 <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span>	<br>	<span class="hljs-number">3.</span>查询的字段名，默认是第一个列的名字<br></code></pre></div></td></tr></table></figure>





<h3 id="三、DML语言"><a href="#三、DML语言" class="headerlink" title="三、DML语言"></a>三、DML语言</h3><p>数据操作语言DML</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">插入 <span class="hljs-keyword">insert</span><br>修改 <span class="hljs-keyword">update</span><br>删除 <span class="hljs-keyword">delete</span><br></code></pre></div></td></tr></table></figure>

<h4 id="3-1-插入语句-insert"><a href="#3-1-插入语句-insert" class="headerlink" title="3.1 插入语句 insert"></a>3.1 插入语句 insert</h4><figure class="highlight lasso"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs lasso">方式一：<br>insert <span class="hljs-keyword">into</span> 表名（列名，<span class="hljs-params">...</span>）values(值<span class="hljs-number">1</span>，<span class="hljs-params">...</span>)；<br><span class="hljs-number">1.</span>插入的值的类型要与列的类型一致或兼容<br><span class="hljs-number">2.</span>不可以为<span class="hljs-built_in">null</span>的列必须插入值，可以为<span class="hljs-built_in">null</span>的值，可以不写列明插入<br><span class="hljs-number">3.</span>列的顺序可以调换<br><span class="hljs-number">4.</span>列数和值的个数必须一致<br><span class="hljs-number">5.</span>可以省略列明，默认是所有的列，都需要有值<br><br>方式二：<br>insert <span class="hljs-keyword">into</span> 表明<br><span class="hljs-built_in">set</span> 列名=值，列名=值<span class="hljs-params">...</span>.<br><br>方式一可以插入多行，方式二不支持<br>方式一支持子查询，方式二不支持   可以把查询结果当插入值<br><br></code></pre></div></td></tr></table></figure>

<h4 id="3-2修改语句-update"><a href="#3-2修改语句-update" class="headerlink" title="3.2修改语句 update"></a>3.2修改语句 update</h4><p>1.修改单表的记录</p>
<figure class="highlight lasso"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs lasso">语法<br>        update 表名<span class="hljs-number">1</span>  别名<br>        <span class="hljs-built_in">set</span> 列=新值，列=新值，<span class="hljs-params">...</span>.<br>        <span class="hljs-keyword">where</span> 筛选条件<br></code></pre></div></td></tr></table></figure>

<p>2.修改多表的记录</p>
<p>92语法</p>
<figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams">update 表<span class="hljs-number">1</span>  别名，表<span class="hljs-number">2</span>  别名<br><span class="hljs-keyword">set</span>  列=值，....<br>where 连接条件<br>and 筛选条件<br></code></pre></div></td></tr></table></figure>

<p>&#x3D;&#x3D;99语法&#x3D;&#x3D;</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">update</span> 表<span class="hljs-number">1</span> 别名<br><span class="hljs-keyword">inner</span>|<span class="hljs-keyword">left</span>|<span class="hljs-keyword">right</span> <span class="hljs-keyword">join</span> 表<span class="hljs-number">2</span> 别名<br><span class="hljs-keyword">on</span> 连接条件<br><span class="hljs-keyword">set</span> 列=值，...<br><span class="hljs-keyword">where</span> 筛选条件<br></code></pre></div></td></tr></table></figure>

<p>例子</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm">修改张无忌女朋友的手机号为<span class="hljs-number">114</span><br>update <span class="hljs-keyword">boys </span><span class="hljs-keyword">bo</span><br><span class="hljs-keyword"></span>innner <span class="hljs-keyword">join </span><span class="hljs-keyword">beauty </span><span class="hljs-keyword">b </span>on <span class="hljs-keyword">bo.id </span>= <span class="hljs-keyword">b.boyfriend_id</span><br><span class="hljs-keyword"></span>set <span class="hljs-keyword">b.phone </span>= <span class="hljs-number">114</span><br>where <span class="hljs-keyword">bo.boyName </span>= <span class="hljs-string">&#x27;张无忌&#x27;</span><br></code></pre></div></td></tr></table></figure>



<h4 id="3-3-删除语句-delete"><a href="#3-3-删除语句-delete" class="headerlink" title="3.3 删除语句 delete"></a>3.3 删除语句 delete</h4><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">方式一：<br>1.单表删除<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 表名 【<span class="hljs-keyword">where</span> 筛选条件】   【<span class="hljs-keyword">limit</span>  条目数】<br><span class="hljs-number">2.</span>多表删除<br>        <span class="hljs-number">92</span>语法<br>            <span class="hljs-keyword">delete</span> 别名<br>            <span class="hljs-keyword">from</span> 表<span class="hljs-number">1</span>，别名，表<span class="hljs-number">2</span>，别名<br>            <span class="hljs-keyword">where</span> 连接条件<br>            <span class="hljs-keyword">and</span> 筛选条件；<br>		<br>		<span class="hljs-number">99</span>语法<br>            <span class="hljs-keyword">delete</span> 表<span class="hljs-number">1</span> 别名 ，表<span class="hljs-number">2</span> 别名		删除谁写谁，两个都删除都写<br>            <span class="hljs-keyword">from</span> 表<span class="hljs-number">1</span> 别名			<br>            <span class="hljs-keyword">inner</span>|<span class="hljs-keyword">left</span>|<span class="hljs-keyword">right</span> <span class="hljs-keyword">join</span> 表<span class="hljs-number">2</span> 别名 <span class="hljs-keyword">on</span> 连接条件<br>            <span class="hljs-keyword">where</span> 筛选条件<br>		<br>方式二：<span class="hljs-keyword">truncate</span><br><span class="hljs-keyword">truncate</span> table 表名<br><span class="hljs-keyword">truncate</span>  也叫清空表，不能用<span class="hljs-keyword">where</span><br><br>两种方式对比<br>   <span class="hljs-number">1.</span> <span class="hljs-keyword">truncate</span> 效率高<br>   <span class="hljs-number">2.</span> 要删除的表中有自增长列，再插入<span class="hljs-keyword">delete</span>从断点开始，<span class="hljs-keyword">truncate</span>从<span class="hljs-number">1</span>开始<br>   <span class="hljs-number">3.</span> <span class="hljs-keyword">delete</span> 删除有返回值，<span class="hljs-keyword">truncate</span> 无返回值<br>   <span class="hljs-number">4.</span> <span class="hljs-keyword">truncate</span>删除，不能回滚，<span class="hljs-keyword">delete</span>可以回滚<br></code></pre></div></td></tr></table></figure>



<h3 id="四、DDL语言"><a href="#四、DDL语言" class="headerlink" title="四、DDL语言"></a>四、DDL语言</h3><p>数据定义语言 Data Define Language</p>
<h5 id="4-1库的管理和操作：创建、修改、删除"><a href="#4-1库的管理和操作：创建、修改、删除" class="headerlink" title="4.1库的管理和操作：创建、修改、删除"></a>4.1库的管理和操作：创建、修改、删除</h5><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">创建：<span class="hljs-keyword">create</span><br>修改：<span class="hljs-keyword">alter</span>   修改表的结构<br>删除：<span class="hljs-keyword">drop</span><br></code></pre></div></td></tr></table></figure>

<h6 id="4-1-1-库的创建"><a href="#4-1-1-库的创建" class="headerlink" title="4.1.1 库的创建"></a>4.1.1 库的创建</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">语法：<br>	<span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> 库名  【<span class="hljs-type">character</span> <span class="hljs-keyword">set</span> 字符集】；也可以加存储引擎等<br>	重复的话不能在创建了，会报错<br>	推荐使用  creat <span class="hljs-keyword">database</span> （<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span>） 库名 【<span class="hljs-type">character</span> <span class="hljs-keyword">set</span> 字符集】；<br></code></pre></div></td></tr></table></figure>

<h6 id="4-1-2-库的修改（不建议）"><a href="#4-1-2-库的修改（不建议）" class="headerlink" title="4.1.2 库的修改（不建议）"></a>4.1.2 库的修改（不建议）</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">rename</span> <span class="hljs-keyword">database</span> books <span class="hljs-keyword">to</span> 新库名；（废弃了）	<br>要修改库名可以直接改文件夹名子  要关库改，之后重启库<br><br>更改字符集<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">database</span> books <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> gbk  ,默认utf<span class="hljs-number">-8</span><br></code></pre></div></td></tr></table></figure>

<h6 id="4-1-3-库的删除"><a href="#4-1-3-库的删除" class="headerlink" title="4.1.3 库的删除"></a>4.1.3 库的删除</h6><figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> books 			不存在删除会报错<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">exists</span> books   存在的时候删除<br></code></pre></div></td></tr></table></figure>

<h5 id="4-2-表的创建、修改、删除"><a href="#4-2-表的创建、修改、删除" class="headerlink" title="4.2 表的创建、修改、删除"></a>4.2 表的创建、修改、删除</h5><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">创建：creat<br>修改：<span class="hljs-keyword">alter</span>   <br>删除：<span class="hljs-keyword">drop</span><br></code></pre></div></td></tr></table></figure>

<h6 id="4-2-1-表的创建"><a href="#4-2-1-表的创建" class="headerlink" title="4.2.1 表的创建"></a>4.2.1 表的创建</h6><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">语法：	<br>	<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> (if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span>)表名(<br>		列名  类型的类型【（长度）约束】，<br>		列名  类型的类型【（长度）约束】，<br>		列名  类型的类型【（长度）约束】，<br>		....<br>		列名  类型的类型【（长度）约束】<br>	);<br></code></pre></div></td></tr></table></figure>

<h6 id="4-2-2-表的修改"><a href="#4-2-2-表的修改" class="headerlink" title="4.2.2 表的修改"></a>4.2.2 表的修改</h6><p>alter table 表名 add|drop|modify|change  column 列名  【列类型 约束】</p>
<ol>
<li>修改列名</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> book(表名) change &#123;<span class="hljs-keyword">column</span>可省略&#125; aa（旧列名） bb（新列名） datetime（类型要带上）<br></code></pre></div></td></tr></table></figure>

<ol start="2">
<li>修改列的类型或约束</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 新类型(<span class="hljs-type">timestamp</span>)<br></code></pre></div></td></tr></table></figure>

<ol start="3">
<li>添加新列</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> 列名 类型 【<span class="hljs-keyword">first</span><span class="hljs-operator">|</span>after 字段名】;  添加的位置可选<br></code></pre></div></td></tr></table></figure>

<ol start="4">
<li>删除列</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> 列名；（不能判断是否存在，不能if <span class="hljs-keyword">exists</span>）<br></code></pre></div></td></tr></table></figure>

<ol start="5">
<li>修改表名</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">rename</span> <span class="hljs-keyword">to</span> 新表名<br></code></pre></div></td></tr></table></figure>

<h6 id="4-2-3-表的删除"><a href="#4-2-3-表的删除" class="headerlink" title="4.2.3 表的删除"></a>4.2.3 表的删除</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> 表名；<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">exists</span> 表名；<br>通用的写法<br>删除库<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">exists</span> 旧库名<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> 新库名<br>删除表<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">exists</span> 旧表名<br><span class="hljs-keyword">create</span> tabke 表名（）; <br></code></pre></div></td></tr></table></figure>

<h6 id="4-2-4-表的复制"><a href="#4-2-4-表的复制" class="headerlink" title="4.2.4 表的复制"></a>4.2.4 表的复制</h6><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> 新表名 <span class="hljs-keyword">like</span>  要复制的表名，  这个只复制结构，不复制值<br> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> 新表名 <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> 要复制的表名    复制全部内容<br> <br><span class="hljs-number">1.</span> 也可以只复制部分列    <br><span class="hljs-number">2.</span> 只复制某些表的结构，不要内容，可以加一个<span class="hljs-keyword">where</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure>

<h5 id="4-3-数据类型"><a href="#4-3-数据类型" class="headerlink" title="4.3 数据类型"></a>4.3 数据类型</h5><h6 id="4-3-1-数值型"><a href="#4-3-1-数值型" class="headerlink" title="4.3.1 数值型"></a>4.3.1 数值型</h6><ol>
<li>整型</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">整型						字节<br>Tinyint						<span class="hljs-number">1</span>	有符号<span class="hljs-number">-128</span><span class="hljs-operator">~</span><span class="hljs-number">127</span>  符号<span class="hljs-number">0</span><span class="hljs-number">-255</span><br><span class="hljs-type">Smallint</span> 					<span class="hljs-number">2</span>	<span class="hljs-number">-32768</span><span class="hljs-operator">~</span><span class="hljs-number">32767</span>  <span class="hljs-number">0</span><span class="hljs-operator">~</span><span class="hljs-number">65536</span><br>Mediumint					<span class="hljs-number">3</span>	百万<br><span class="hljs-type">Int</span>\<span class="hljs-type">integer</span>					<span class="hljs-number">4</span>	十亿<br><span class="hljs-type">Bigint</span>						<span class="hljs-number">8</span>	<br></code></pre></div></td></tr></table></figure>

<p>如何设置无符号和有符号    int  unsigned </p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>.不设置无符号还是有符号，默认有符号<br><span class="hljs-attribute">2</span>.插入值超出整型范围，会报out of range 异常，并且插入的是临界值<br><span class="hljs-attribute">3</span>.如果不设置长度，会有默认的长度 也可以设置长度， 长度由类型决定<br><span class="hljs-attribute">4</span>. int(<span class="hljs-number">7</span>)<span class="hljs-number">7</span>是显示宽度， 但是想要显示<span class="hljs-number">0</span>，还需要用到 zerofill,<br> 		<span class="hljs-attribute">int</span>(<span class="hljs-number">7</span>) zerofill  左边填充<span class="hljs-number">0</span> ，并且自动成为无符号型<br></code></pre></div></td></tr></table></figure>

<ol start="2">
<li>小数</li>
</ol>
<p>浮点型</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">				   字节<br><span class="hljs-built_in">float</span>				<span class="hljs-number">4</span>			<br><span class="hljs-built_in">double</span>				<span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure>

<p>定点数类型 （精度更高）</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">定点数类型			字节					范围<br><span class="hljs-type">DEC</span>（M,D）			M<span class="hljs-operator">+</span><span class="hljs-number">2</span>		范围和<span class="hljs-keyword">double</span>相同，给定<span class="hljs-type">decimal</span>的有效取值范围由M和D决定<br><span class="hljs-type">DECIMAL</span>（M,D）	<br></code></pre></div></td></tr></table></figure>

<p>使用方法</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-number">1</span>.浮点型<br><span class="hljs-function"><span class="hljs-title">float</span><span class="hljs-params">(m,d)</span></span>		M：整数部分+小数部分  ， D小数点后位数<br><span class="hljs-function"><span class="hljs-title">double</span><span class="hljs-params">(m,d)</span></span>			少的话，小数一定，整数<span class="hljs-number">99</span>溢出<br><span class="hljs-number">2</span>.定点型			<br><span class="hljs-function"><span class="hljs-title">dec</span><span class="hljs-params">(m,d)</span></span><br><span class="hljs-function"><span class="hljs-title">decimal</span><span class="hljs-params">(m,d)</span></span>			<br><br>M,D都可以省略，如果是decimal，则M默认是<span class="hljs-number">10</span>，D默认<span class="hljs-number">0</span><br>如果是<span class="hljs-attribute">float</span> 和double，则会根据插入的数值的精度来决定精度<br>定点型精度较高，如果要求插入数值的精度较高如货币运算等可以考虑使用<br><br>使用法则：<br>所选择的类型越简单越好，能保存的数值的类型越小越好<br></code></pre></div></td></tr></table></figure>

<h6 id="4-3-2-字符型"><a href="#4-3-2-字符型" class="headerlink" title="4.3.2 字符型"></a>4.3.2 字符型</h6><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span>较短的文本<br><span class="hljs-type">char</span><br><span class="hljs-type">varchar</span><br><span class="hljs-number">2.</span>较长的文本<br><span class="hljs-type">text</span><br>blob(较大的二进制)<br><br><span class="hljs-type">char</span>(M)	M可省，默认<span class="hljs-number">1</span>  最多字符数，不是字节，a是一个字符    M为<span class="hljs-number">0</span><span class="hljs-number">-255</span><br><span class="hljs-type">varchar</span>(M)		M不可省略					   可变长度<span class="hljs-number">0</span><span class="hljs-number">-65535</span><br>区别：<span class="hljs-type">char</span>的M代表固定长度字符，<span class="hljs-type">varchar</span> M代表可变长度<br>		效率：      <span class="hljs-type">char</span>高	      <span class="hljs-type">varchar</span>低<br>		空间耗费	<span class="hljs-type">char</span>耗费		<span class="hljs-type">varchar</span>节省<br></code></pre></div></td></tr></table></figure>

<h6 id="4-3-3-位类型"><a href="#4-3-3-位类型" class="headerlink" title="4.3.3 位类型"></a>4.3.3 位类型</h6><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-type">binary</span> 和<span class="hljs-type">varbinary</span><br>类似<span class="hljs-type">char</span>和<span class="hljs-type">varchar</span> ，他们包含二进制字符串，而不包含非二进制字符串<br></code></pre></div></td></tr></table></figure>

<h6 id="4-3-4-Enum类型"><a href="#4-3-4-Enum类型" class="headerlink" title="4.3.4 Enum类型"></a>4.3.4 Enum类型</h6><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit">枚举类型，要求插入的值必须属于列表中指定的值之一<br>列表成员为1<span class="hljs-string">-255</span>，需要1个字节存储，<br>列表成员为255<span class="hljs-string">-65535</span>，需要两个字节存储<br>最多需要65535个成员<br>枚举不区分大小写，插入大小写都可以 ，可以插入一个枚举，也可以插入多个枚举<br></code></pre></div></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">例如：<br>creat <span class="hljs-selector-tag">table</span> <span class="hljs-built_in">tab_char</span>(<br>	c1 <span class="hljs-built_in">enum</span>(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>)<br>)<br></code></pre></div></td></tr></table></figure>

<p>set 用于保存集合   和枚举一样不区分大小写</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">例如：<br>creat <span class="hljs-keyword">table</span> tab_set(<br>	c1 <span class="hljs-keyword">set</span>(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>)<br>)<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tab_set <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;a&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tab_set <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tab_set <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>);<br></code></pre></div></td></tr></table></figure>



<h6 id="4-3-5-日期型"><a href="#4-3-5-日期型" class="headerlink" title="4.3.5 日期型"></a>4.3.5 日期型</h6><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">	  		字节 		    最小值<br><span class="hljs-type">date</span>       	   <span class="hljs-number">4</span>         <span class="hljs-number">1000</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>      <br>datetime   	   <span class="hljs-number">8</span> 		<span class="hljs-number">1000</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>   <span class="hljs-number">00</span>：<span class="hljs-number">00</span>：<span class="hljs-number">00</span><br><span class="hljs-type">timestamp</span>	   <span class="hljs-number">4</span>		<span class="hljs-number">19700101080001</span>					<span class="hljs-number">2038</span>年<br><span class="hljs-type">time</span> 		  <span class="hljs-number">3</span>          <span class="hljs-number">-838</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59</span><br><span class="hljs-keyword">year</span>           <span class="hljs-number">1</span>   		<span class="hljs-number">1901</span>   <br><span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;time_zone&#x27;</span>   显示时区<br><br><span class="hljs-type">timestamp</span>，记录时区，反应时区信息 ，收mysql版本和sqmode影响大<br>datetime    不受时区影响，只记录当地时区<br></code></pre></div></td></tr></table></figure>

<h5 id="4-4-常见约束"><a href="#4-4-常见约束" class="headerlink" title="4.4 常见约束"></a>4.4 常见约束</h5><p>一种限制，用于限制表中的数据，为了保证表中的数据准确性和可靠性 比如姓名、学号</p>
<p>添加约束的时机</p>
<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1.创建表的时候<br>2.修改表的时候<br></code></pre></div></td></tr></table></figure>

<p>约束的分类</p>
<figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css">列级约束：六大约束都支持，外键约束没有效果<br>表级约束：除了非空、默认，其他的都支持<br><br>creat <span class="hljs-selector-tag">table</span> 表名（<br>	字段名 字段类型 列级约束，<br>	字段名 字段类型 列级约束，<br>	表级约束<br>）<br></code></pre></div></td></tr></table></figure>

<p>六大约束</p>
<figure class="highlight smali"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs smali">1.<span class="hljs-built_in"> not </span>null<span class="hljs-keyword"> :</span>非空，保证该字段的值不能为空<br>2. default <span class="hljs-keyword"> :</span>默认，用于保证该字段有默认值<br>3. primary key<span class="hljs-keyword"> :</span>主键，用于保证该字段的值具有唯一性，并且非空<br>4. unique   ：唯一，用于保证该字段的值具有唯一性，可以为空<br>5.<span class="hljs-built_in"> check </span>  <span class="hljs-keyword"> :</span> 检查约束【mysql中不支持，不报错但没效果】<br>6. foreign key： 外键约束，用于限制两个表的关系，用于保证该字段的值必须来自主表的关联列的值<br>		在从表添加外键约束，用于引用主表中某列的值   不能作为列级约束，不生效<br></code></pre></div></td></tr></table></figure>

<p>1.建表时添加列级约束</p>
<p>支持持：默认、非空、主键、唯一</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> stuinfo(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key ,   #主键<br>	stuName vachar(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>，       非空<br>	gender <span class="hljs-type">char</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">check</span>(gender <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;男&#x27;</span> <span class="hljs-keyword">or</span> gender <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;女&#x27;</span>)，  #检查<br>	seat <span class="hljs-type">int</span> <span class="hljs-keyword">unique</span>，       唯一<br>	age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">18</span>，    默认约束<br>	majorId <span class="hljs-type">int</span>  <span class="hljs-keyword">references</span> major(id)   外键     注意不能加<span class="hljs-keyword">foreign</span> key ,<br>										  sql8<span class="hljs-number">.0</span>也不支持<span class="hljs-keyword">references</span><br>	)<br>creat <span class="hljs-keyword">table</span> major(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,<br>	majorName <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>)<br>	)<br></code></pre></div></td></tr></table></figure>

<p>查看表的所有索引	show index from 表名   可以查看主键外键</p>
<ol start="2">
<li>建表时添加表级约束</li>
</ol>
<p>【constraint 约束名】  约束类型（字段名）   不起名会有默认名字</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> stuinfo(<br>	id <span class="hljs-type">int</span>,<br>	stuname <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>),<br>	gender <span class="hljs-type">char</span>(<span class="hljs-number">1</span>),<br>	seat <span class="hljs-type">int</span>,<br>	age <span class="hljs-type">int</span>,<br>	majorid <span class="hljs-type">int</span>,<br>	<br>	<span class="hljs-keyword">constraint</span> pk <span class="hljs-keyword">primary</span> key(id),    主键<br>	<span class="hljs-keyword">constraint</span> uo <span class="hljs-keyword">primary</span> key(id),	  唯一键<br>	<span class="hljs-keyword">constraint</span> ck <span class="hljs-keyword">check</span>(gender <span class="hljs-operator">=</span> ‘男’ <span class="hljs-keyword">or</span> dender <span class="hljs-operator">=</span> ’女‘)   检查   没效果<br>	<span class="hljs-keyword">constraint</span> ff freign key(majorid) <span class="hljs-keyword">references</span> major(id)<br>)<br>主键就算改名子，他也是<span class="hljs-keyword">primary</span><br></code></pre></div></td></tr></table></figure>

<p>通用的写法：默认、非空、主键、唯一列级约束，外键表级约束</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> stuinfo(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,				主键<br>	stuname <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,	非空<br>	gender <span class="hljs-type">char</span>(<span class="hljs-number">1</span>),					<br>	seat <span class="hljs-type">int</span> <span class="hljs-keyword">unique</span>,				唯一<br>	age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">18</span>,				默认<br>	majorid <span class="hljs-type">int</span>,<br>	<br>	<span class="hljs-keyword">constraint</span> ck_stuinfo_major <span class="hljs-keyword">foreign</span> key (majorid) <span class="hljs-keyword">references</span> major(id) <br>)<br>可以一下设置多个<br>stuname <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">unique</span>,	非空 唯一<br></code></pre></div></td></tr></table></figure>

<p>主键约束和唯一对比</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">			保证唯一性	 是否允许空		一个表中有几个    是否允许组合<br>主键			是			否				最多<span class="hljs-number">1</span>个		是，不推荐<br>唯一			是			是				多个			是，不推荐<br><br>组合<span class="hljs-keyword">constraint</span> pk <span class="hljs-keyword">primary key</span>(id，stuname),  两个同同时一样才算一样 <br></code></pre></div></td></tr></table></figure>

<p>外键的特点</p>
<figure class="highlight isbl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs isbl"><span class="hljs-number">1</span>.要求在从表设置外键关系<br><span class="hljs-number">2</span>.从表的外键列的类型和主表的关联列的类型要求一致或兼容，名称无要求<br><span class="hljs-number">3</span>.主表中的关联列必须是一个<span class="hljs-function"><span class="hljs-title">key</span>(一般是主键或唯一)</span><br><span class="hljs-number">4</span>.插入数据是时，应该先插入主表，在插入从表<br>删除数据时，先删除从表，在删除主表<br></code></pre></div></td></tr></table></figure>

<ol start="3">
<li>修改表时添加约束</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-number">1.</span>添加列级约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 字段名 字段类型 新约束；<br><span class="hljs-number">2.</span>添加表级约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> 【<span class="hljs-keyword">constraint</span> 约束名】约束类型（字段名）【外键的引用】；<br></code></pre></div></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-number">1.</span>添加非空约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span><br><span class="hljs-number">2.</span>添加默认约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo modify <span class="hljs-keyword">column</span> age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">18</span><br><span class="hljs-number">3.</span>添加主键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo modify <span class="hljs-keyword">column</span> id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key   列级约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">add</span>  <span class="hljs-keyword">primary</span> key(id)		表级约束<br><span class="hljs-number">4.</span>添加唯一键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo modify <span class="hljs-keyword">column</span> seat <span class="hljs-type">int</span> <span class="hljs-keyword">unique</span>   列级约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">add</span>  <span class="hljs-keyword">unique</span>(seat)		表级约束<br><span class="hljs-number">5.</span>添加Y键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">add</span> [<span class="hljs-keyword">constraint</span> 新名字] <span class="hljs-keyword">foreign</span> key(majorid) referencts major(id);<br></code></pre></div></td></tr></table></figure>

<ol start="4">
<li>修改表时删除约束</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span>删除非空约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>)  <span class="hljs-keyword">null</span> <br><span class="hljs-number">2.</span>删除默认约束<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo modify <span class="hljs-keyword">column</span> age <span class="hljs-type">int</span><br><span class="hljs-number">3.</span>删除主键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">drop</span>  <span class="hljs-keyword">primary key</span>  <br><span class="hljs-number">4.</span>删除唯一键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">drop</span> <span class="hljs-keyword">index</span> seat   列级约束<br><span class="hljs-number">5.</span>删除外键<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> stuinfo <span class="hljs-keyword">drop</span>  <span class="hljs-keyword">foreign key</span> 新名字;     <span class="hljs-keyword">constraint</span>起的新名字<br></code></pre></div></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">			位置				支持的约束类型				是否能起约束名<br>列级约束	列的后面		语法都支持，但外键没有效果			否<br>表级约束	所有列的下面		默认和非空不支持，其他支持		可以，但是主键没效果<br></code></pre></div></td></tr></table></figure>

<h5 id="4-5标识列（自增长列）"><a href="#4-5标识列（自增长列）" class="headerlink" title="4.5标识列（自增长列）"></a>4.5标识列（自增长列）</h5><p>可以不用手动的插入值，系统提供默认的序列值</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">用法：<br>id <span class="hljs-built_in">int</span> unique <span class="hljs-built_in">auto</span>_increment <br></code></pre></div></td></tr></table></figure>

<p>特点</p>
<figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-number">1.</span>标识列不一定和主键搭配，但要求必须时一个key<br><span class="hljs-number">2.</span>一个表最多一个增长列<br><span class="hljs-number">3.</span>类型只能时数值型<br><span class="hljs-number">4.</span>标识列可以通过<span class="hljs-keyword">set</span> auto_increment_increment <span class="hljs-comment">= 2 ,</span>设置步长<br>	可以通过手动插入值来设置初始值<br></code></pre></div></td></tr></table></figure>

<p>修改表时设置表示列</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">添加标识列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 <span class="hljs-type">int</span> <span class="hljs-keyword">primary key</span> auto_increment;<br>删除标识列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 <span class="hljs-type">int</span> <span class="hljs-keyword">primary key</span> ;<br></code></pre></div></td></tr></table></figure>



<h3 id="五、TCL语言"><a href="#五、TCL语言" class="headerlink" title="五、TCL语言"></a>五、TCL语言</h3><h5 id="5-1-事务控制语言（-transaction-control-language-）"><a href="#5-1-事务控制语言（-transaction-control-language-）" class="headerlink" title="5.1 事务控制语言（ transaction control language ）"></a>5.1 事务控制语言（ transaction control language ）</h5><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">有一个或者一组<span class="hljs-keyword">sql</span>语句组成一个执行单元，这个执行单元要么全部执行，要不全部不执行。<br>在这个单元中，每个mysql语句是相互依赖的。而整个单独单元作为一个不可分割的整体，如果某单元中某条<span class="hljs-keyword">sql</span>语句一旦执行失败或者产生错误，整个单元将会回滚，所有受到影响的数据将返回到事务开始以前的状态，如果单元中的所有<span class="hljs-keyword">sql</span>语句均执行成功，则事务被顺利执行。<br></code></pre></div></td></tr></table></figure>

<p>事务的ACID(acid)属性</p>
<figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-number">1</span>.原子性（Atomicity)<br>原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生<br><span class="hljs-number">2</span>.一致性（Consistency）<br>事务必须使数据库从一个一致性状态变换到另外一个一致性状态，就是事务执行后，仍然是一个整体<br><span class="hljs-number">3</span>.隔离性（<span class="hljs-attribute">Isolation</span>）<br>事务的隔离性是指一个事务的执行不能被其他的事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰<br><span class="hljs-number">4</span>.持久性（Durability）<br>持久性是指 一个事务一旦被提交，他对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响，执行后不能回退<br><br></code></pre></div></td></tr></table></figure>

<h5 id="5-2-存储引擎"><a href="#5-2-存储引擎" class="headerlink" title="5.2 存储引擎"></a>5.2 存储引擎</h5><figure class="highlight mel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mel"><span class="hljs-number">1.</span>在mysql中的数据用各种不同的技术存储在文件（或内存）中<br><span class="hljs-number">2.</span>通过show engines 来查看mysql支持的存储引擎<br><span class="hljs-number">3.</span>在mysql中用的最多的存储引擎有：innode myisam <span class="hljs-keyword">memory</span> 。其中innode支持事务，而myisam、<span class="hljs-keyword">memory</span> 等不支持事务<br></code></pre></div></td></tr></table></figure>

<h5 id="5-3-事务的创建"><a href="#5-3-事务的创建" class="headerlink" title="5.3 事务的创建"></a>5.3 事务的创建</h5><p>隐式的事务：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs n1ql">隐式的事务：事务没有明显的开启和结束的标记<br>比如：<span class="hljs-keyword">insert</span>、<span class="hljs-keyword">update</span>、<span class="hljs-keyword">delete</span>语句    一句就代表一个事务<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 表 <span class="hljs-keyword">where</span> id = <span class="hljs-number">1</span>；<br></code></pre></div></td></tr></table></figure>

<p>显式事务：事务具有明显的开启和结束的标记</p>
<p>比如两个insert语句要合成一个事务，但前提：必须先设置自动提交功能为禁用</p>
<figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams">SHOW <span class="hljs-keyword">VARIABLES</span> LIKE <span class="hljs-comment">&#x27;autocommit&#x27;</span>; 自动提交功能默认开启<br><span class="hljs-keyword">set</span> autocommit <span class="hljs-comment">= 0</span>;   只针对当前<br></code></pre></div></td></tr></table></figure>

<p>开启事务步骤</p>
<figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-number">1.</span>先禁用自动提交功能<br>	<span class="hljs-keyword">set</span> autocommit <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  <br>	<span class="hljs-keyword">start</span> transaction;   开启事务，可以省略<br><span class="hljs-number">2.</span>编写事务<span class="hljs-keyword">sql</span>语句（一般是<span class="hljs-keyword">select</span>、<span class="hljs-keyword">insert</span>、<span class="hljs-keyword">update</span>、<span class="hljs-keyword">delete</span>）<br>	语句<span class="hljs-number">1</span>；<br>	语句<span class="hljs-number">2</span>；<br>	.....<br><span class="hljs-number">3.</span>结束事务<br>	<span class="hljs-keyword">commit</span>;提交事务<br>	<span class="hljs-keyword">rollback</span>;回滚事务    <br>例如：<br> 	开启事务<br>        <span class="hljs-keyword">set</span> autocommit <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;  	<br>        <span class="hljs-keyword">start</span> transaction;   开启事务，可以省略<br>    一组事务的语句<br>        <span class="hljs-keyword">update</span> account <span class="hljs-keyword">set</span> balance <span class="hljs-operator">=</span> <span class="hljs-number">500</span> <span class="hljs-keyword">where</span> user_name <span class="hljs-operator">=</span> &quot;aaa&quot;<br>        <span class="hljs-keyword">update</span> account <span class="hljs-keyword">set</span> balance <span class="hljs-operator">=</span> <span class="hljs-number">1500</span> <span class="hljs-keyword">where</span> user_name <span class="hljs-operator">=</span> &quot;bbb&quot;<br>     结束事务<br>     	<span class="hljs-keyword">commit</span><span class="hljs-operator">/</span><span class="hljs-keyword">rollback</span>;   结束<span class="hljs-operator">/</span>回滚<br></code></pre></div></td></tr></table></figure>

<h5 id="5-4-数据并发问题"><a href="#5-4-数据并发问题" class="headerlink" title="5.4 数据并发问题"></a>5.4 数据并发问题</h5><p>对于同时运行的多个事务，当这些事务访问数据库中相同的数据时，如果没有采取必要的隔离机制，就会导致各种并发问题：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-number">1</span>.脏读：对于两个事务<span class="hljs-built_in">t1</span>,<span class="hljs-built_in">t2</span>，<span class="hljs-built_in">t1</span>读取了已经被<span class="hljs-built_in">t2</span>更新但是还没有提交的字段之后，若<span class="hljs-built_in">t2</span>回滚，<span class="hljs-built_in">t1</span>读取的内容就是临时并且无效的<br><span class="hljs-number">2</span>.不可重复度：对于两个事务<span class="hljs-built_in">t1</span>,<span class="hljs-built_in">t2</span>，<span class="hljs-built_in">t1</span>读取了一个字段，然后<span class="hljs-built_in">t2</span>更新了该字段之后，<span class="hljs-built_in">t1</span>再次读取同一个字段，值就不同了<br><span class="hljs-number">3</span>.幻读：对于两个事务<span class="hljs-built_in">t1</span>,<span class="hljs-built_in">t2</span>，<span class="hljs-built_in">t1</span>从一个表中读取了一个字段，然后<span class="hljs-built_in">t2</span>在该表中插入了一些新的行之后，如果<span class="hljs-built_in">t1</span>再次读取同一个表，就会多出几行<br></code></pre></div></td></tr></table></figure>

<p>&#x3D;&#x3D;数据库事务的隔离性&#x3D;&#x3D;：数据库系统必须具有隔离并发运行各个事务的能力，使他们不会相互影响，避免各种并发问题</p>
<p>一个事务与其他事务隔离的程度称为&#x3D;&#x3D;隔离级别&#x3D;&#x3D; 数据库规定了多种事务隔离级别，不同隔离级别对应不同的干扰程度，隔离级别越高，数据一致性就越好，但并发性越弱</p>
<p>数据库提供的4种隔离级别</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">隔离级别<br><span class="hljs-keyword">read</span> <span class="hljs-keyword">uncommitted</span> 	允许事务读取未被其他事务提交的变更，脏读，不可重复和幻读的问题都会出现<br>（读未提交数据）<br><span class="hljs-keyword">read</span> commited   	只允许事务读取已经被其他事务提交的变更，可以避免脏读，但不可重复读和幻<br>（读已提交数据）   读问题仍可能出现<br><span class="hljs-keyword">repeatable</span> <span class="hljs-keyword">read</span>		确保事务可以多次从一个字段中读取相同的值，在这个事务持续期间，禁止其他事物对这<br>（可重复读）		个字段进行更新，可以避免脏读和不可重复读，但幻读的问题仍然存在<br><span class="hljs-keyword">serializable</span>		确保事务可以从一个表中读取相同的行，在这个事务持续期间，禁止其他的事务对该表执	（串行化）  	    行插入，更新和删除操作，所有并发问题都可以避免，但性能十分低下<br></code></pre></div></td></tr></table></figure>

<p>Oracle支持的2种事务隔离级别：read commited，serializable。 Oracle默认的事务隔离级别为：read commited</p>
<p>mysql支持4种事务隔离级别，mysql默认的隔离级别：repeatable read	</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">mysql查看默认事务隔离级别<br><span class="hljs-keyword">select</span> @@tx_isolation    sql8<span class="hljs-number">.0</span>用的是   <span class="hljs-keyword">select</span> @@transaction_isolation <br>更改事务隔离级别<br><span class="hljs-keyword">set</span> （<span class="hljs-keyword">session</span>马上生效） <span class="hljs-keyword">transaction</span> <span class="hljs-keyword">isolation</span> <span class="hljs-keyword">level</span> <span class="hljs-keyword">read</span> <span class="hljs-keyword">uncommitted</span>;<br>更改全局的隔离级别，重启生效<br><span class="hljs-keyword">set</span> <span class="hljs-keyword">global</span> <span class="hljs-keyword">transaction</span> <span class="hljs-keyword">isolation</span> <span class="hljs-keyword">level</span> <span class="hljs-keyword">read</span> <span class="hljs-keyword">uncommitted</span>;<br></code></pre></div></td></tr></table></figure>

<h5 id="5-5-savepoint的使用"><a href="#5-5-savepoint的使用" class="headerlink" title="5.5 savepoint的使用"></a>5.5 savepoint的使用</h5><p> 需要搭配rollback使用</p>
<figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> autocommit = <span class="hljs-number">0</span>；<br><span class="hljs-keyword">start</span> <span class="hljs-keyword">transaction</span>;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> account <span class="hljs-keyword">where</span> id = <span class="hljs-number">25</span>;<br><span class="hljs-keyword">savepoint</span> a;    # 设置保存点<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> account <span class="hljs-keyword">where</span> id = <span class="hljs-number">29</span>;<br><span class="hljs-keyword">rollback</span> <span class="hljs-keyword">to</span> a；  #回滚到保存点a<br></code></pre></div></td></tr></table></figure>





































<p>题</p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821155220641.png" srcset="/img/loading.gif" lazyload alt="image-20210821155220641"></p>
<p>conca可以用于like模糊判定中的连接来用</p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821155254544.png" srcset="/img/loading.gif" lazyload alt="image-20210821155254544"></p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821155316135.png" srcset="/img/loading.gif" lazyload alt="image-20210821155316135"></p>
<p>注意CASE的两种用法， CASE when 条件，then        else           end</p>
<p>​										case 判定的值   when  常量1  then  </p>
<p>​																	when  常量2 then    else  end </p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821161055512.png" srcset="/img/loading.gif" lazyload alt="image-20210821161055512"></p>
<p>注意CASE 的嵌套用法， end结尾 </p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821161427422.png" srcset="/img/loading.gif" lazyload alt="image-20210821161427422"></p>
<p>排序，某种特定的东西需要放在最后或者前边，</p>
<p><img src="/2022/04/28/%E6%95%B0%E6%8D%AE%E5%BA%93/Users\baixxq\AppData\Roaming\Typora\typora-user-images\image-20210821225751104.png" srcset="/img/loading.gif" lazyload alt="image-20210821225751104"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
                    
                      <a class="hover-with-bg" href="/tags/MySQL/">MySQL</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/28/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Java垃圾回收</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/28/JavaWeb/">
                        <span class="hidden-mobile">JavaWeb</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@waline/client@1/dist/Waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"blog-comment-source.vercel.app","path":"window.location.pathname","placeholder":"支持匿名评论鸭","meta":["nick","mail"],"requiredMeta":[],"lang":"zh-CN","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"dark":"html[data-user-color-scheme=\"dark\"]","avatar":"retro","avatarCDN":"https://seccdn.libravatar.org/avatar/","avatarForce":false,"wordLimit":0,"pageSize":10,"highlight":true},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        new Waline(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          Fluid.plugins.initFancyBox('#waline .vcontent img:not(.vemoji)');
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>


<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>












  

  

  

  

  

  




  
<script src="/js/DynamicLine.js"></script>
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/Cherry.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/DynamicRibbon.min.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body>
</html>


<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>

<!-- 爆炸烟花 -->
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>


<!--浏览器搞笑标题-->
<script type="text/javascript" src="\js\FunnyTitle.js"></script>